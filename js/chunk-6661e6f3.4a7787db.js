(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6661e6f3"],{"00b4":function(t,e,n){"use strict";n("ac1f");var r=n("23e7"),a=n("da84"),o=n("c65b"),s=n("e330"),i=n("1626"),c=n("861d"),l=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),u=a.Error,d=s(/./.test);r({target:"RegExp",proto:!0,forced:!l},{test:function(t){var e=this.exec;if(!i(e))return d(this,t);var n=o(e,this,t);if(null!==n&&!c(n))throw new u("RegExp exec method returned something other than an Object or null");return!!n}})},"1a74":function(t,e,n){},2909:function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t){if(Array.isArray(t))return r(t)}n.d(e,"a",(function(){return c}));n("a4d3"),n("e01a"),n("d3b7"),n("d28b"),n("3ca3"),n("ddb0"),n("a630");function o(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}n("fb6a"),n("b0c0"),n("ac1f"),n("00b4");function s(t,e){if(t){if("string"===typeof t)return r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(t,e):void 0}}n("d9e2");function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return a(t)||o(t)||s(t)||i()}},"2b8e":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("Sidebar"),n("div",{staticClass:"follower"},[n("FollowingList",{attrs:{followings:t.followings}})],1),n("RightColumn")],1)},a=[],o=n("1da1"),s=n("5530"),i=(n("96cf"),n("5ea5")),c=n("dc59"),l=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"following-container"},[r("div",{staticClass:"following-header"},[r("button",{staticClass:"back-to",attrs:{type:"button"},on:{click:function(e){return t.$router.go(-1)}}},[r("img",{staticClass:"back-icon",attrs:{src:n("30e9")}})]),r("div",{staticClass:"title"},[r("router-link",{staticClass:"name",attrs:{to:{path:"/users/"+t.id}}},[r("span",{staticClass:"name"},[t._v(t._s(t.name))])]),r("p",[t._v(t._s(t.tweetCount)+" 推文")])],1)]),r("div",{staticClass:"nav-tabs"},[r("button",{staticClass:"nav-item",attrs:{type:"button"}},[r("router-link",{staticClass:"nav-link",attrs:{to:{name:"user-follower",params:t.id}}},[t._v(" 跟隨者 ")])],1),r("button",{staticClass:"nav-item",class:{active:t.isActive},attrs:{type:"button"}},[r("router-link",{staticClass:"nav-link",class:{active:t.isActive},attrs:{to:{name:"user-following",params:t.id}}},[t._v(" 正在跟隨 ")])],1)]),r("div",{staticClass:"follower-list"},t._l(t.users,(function(e){return r("div",{key:e.id,staticClass:"list-item"},[r("div",{staticClass:"user-info"},[r("div",{staticClass:"user-avatar"},[r("router-link",{staticClass:"avatar-img",attrs:{to:{path:"/users/"+e.Followings.id}}},[r("img",{staticClass:"avatar-img",attrs:{src:e.Followings.avatar}})])],1),r("div",{staticClass:"content"},[r("router-link",{attrs:{to:{path:"/users/"+e.Followings.id}}},[r("div",{staticClass:"user-name"},[t._v(t._s(e.Followings.name))]),r("div",{staticClass:"user-accountName"},[t._v("@"+t._s(e.Followings.account))])]),r("span",{staticClass:"introduce"},[t._v(" "+t._s(e.Followings.introduction)+" ")])],1)]),e.Followings.isFollowed?r("div",{staticClass:"toggleBtn"},[r("button",{staticClass:"following-btn",on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.deleteFollow(e.Followings.id)}}},[t._v("正在追隨")])]):r("div",{staticClass:"toggleBtn"},[r("button",{staticClass:"unfollowed-btn",on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.addFollow(e.Followings.id)}}},[t._v("追隨")])])])})),0)])},u=[],d=n("2909"),f=(n("b0c0"),n("4de4"),n("d3b7"),n("2f62")),v=n("1602"),w=n("604d"),g={name:"FollowingList",props:{followings:{type:Array,required:!0}},data:function(){return{id:"",name:"",tweetCount:"",isActive:!0,users:this.followings}},watch:{followings:function(t){this.users=Object(d["a"])(t)}},created:function(){console.log(this.followings);var t=this.$route.params.id;this.fetchUser(t)},computed:Object(s["a"])({},Object(f["b"])(["currentUser"])),methods:{fetchUser:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v["a"].getProfile({userId:t});case 3:return r=n.sent,a=r.data,n.next=7,a.id;case 7:e.id=n.sent,e.name=a.name,e.tweetCount=a.tweetCount,n.next=15;break;case 12:n.prev=12,n.t0=n["catch"](0),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})))()},addFollow:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(n.prev=0,e.currentUser.id!==t){n.next=4;break}return e.$bus.$emit("toast",{icon:"error",title:"不能追隨自己喔"}),n.abrupt("return");case 4:return n.next=6,w["a"].addFollow(t);case 6:r=n.sent,r.data,e.users.filter((function(e){e.Followings.id===t&&(e.Followings.isFollowed=!0)})),e.$bus.$emit("toast",{icon:"success",title:"追隨成功"}),n.next=15;break;case 12:n.prev=12,n.t0=n["catch"](0),console.log(n.t0);case 15:case"end":return n.stop()}}),n,null,[[0,12]])})))()},deleteFollow:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,w["a"].deleteFollow(t);case 3:r=n.sent,r.data,e.users.filter((function(e){e.Followings.id===t&&(e.Followings.isFollowed=!1)})),e.$bus.$emit("toast",{icon:"success",title:"取消追隨成功"}),n.next=12;break;case 9:n.prev=9,n.t0=n["catch"](0),console.log(n.t0);case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))()}}},p=g,b=(n("9803"),n("2877")),m=Object(b["a"])(p,l,u,!1,null,"f612dc62",null),h=m.exports,C={name:"UserFollowings",components:{Sidebar:i["a"],RightColumn:c["a"],FollowingList:h},data:function(){return{following:{followerId:"",followingId:"",createdAt:"",followings:{name:"",account:"",avatar:"",id:-1,introduction:""},isFollowed:!1},followings:[]}},created:function(){var t=this.$route.params.id;this.fetchFollowings(t)},computed:Object(s["a"])({},Object(f["b"])(["currentUser"])),methods:{fetchFollowings:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function n(){var r,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,v["a"].getUserFollowings(t);case 3:r=n.sent,a=r.data,e.followings=a,n.next=11;break;case 8:n.prev=8,n.t0=n["catch"](0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})))()}}},F=C,y=(n("84ed"),Object(b["a"])(F,r,a,!1,null,"cc78cb70",null));e["default"]=y.exports},"30e9":function(t,e,n){t.exports=n.p+"img/back-icon.f3e5a7a2.svg"},"4df4":function(t,e,n){"use strict";var r=n("da84"),a=n("0366"),o=n("c65b"),s=n("7b0b"),i=n("9bdd"),c=n("e95a"),l=n("68ee"),u=n("07fa"),d=n("8418"),f=n("9a1f"),v=n("35a1"),w=r.Array;t.exports=function(t){var e=s(t),n=l(this),r=arguments.length,g=r>1?arguments[1]:void 0,p=void 0!==g;p&&(g=a(g,r>2?arguments[2]:void 0));var b,m,h,C,F,y,x=v(e),k=0;if(!x||this==w&&c(x))for(b=u(e),m=n?new this(b):w(b);b>k;k++)y=p?g(e[k],k):e[k],d(m,k,y);else for(C=f(e,x),F=C.next,m=n?new this:[];!(h=o(F,C)).done;k++)y=p?i(C,g,[h.value,k],!0):h.value,d(m,k,y);return m.length=k,m}},"84ed":function(t,e,n){"use strict";n("1a74")},9803:function(t,e,n){"use strict";n("ea16")},"9bdd":function(t,e,n){var r=n("825a"),a=n("2a62");t.exports=function(t,e,n,o){try{return o?e(r(n)[0],n[1]):e(n)}catch(s){a(t,"throw",s)}}},a630:function(t,e,n){var r=n("23e7"),a=n("4df4"),o=n("1c7e"),s=!o((function(t){Array.from(t)}));r({target:"Array",stat:!0,forced:s},{from:a})},d28b:function(t,e,n){var r=n("746f");r("iterator")},ea16:function(t,e,n){},fb6a:function(t,e,n){"use strict";var r=n("23e7"),a=n("da84"),o=n("e8b5"),s=n("68ee"),i=n("861d"),c=n("23cb"),l=n("07fa"),u=n("fc6a"),d=n("8418"),f=n("b622"),v=n("1dde"),w=n("f36a"),g=v("slice"),p=f("species"),b=a.Array,m=Math.max;r({target:"Array",proto:!0,forced:!g},{slice:function(t,e){var n,r,a,f=u(this),v=l(f),g=c(t,v),h=c(void 0===e?v:e,v);if(o(f)&&(n=f.constructor,s(n)&&(n===b||o(n.prototype))?n=void 0:i(n)&&(n=n[p],null===n&&(n=void 0)),n===b||void 0===n))return w(f,g,h);for(r=new(void 0===n?b:n)(m(h-g,0)),a=0;g<h;g++,a++)g in f&&d(r,a,f[g]);return r.length=a,r}})}}]);
//# sourceMappingURL=chunk-6661e6f3.4a7787db.js.map