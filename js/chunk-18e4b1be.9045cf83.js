(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18e4b1be"],{"00b4":function(t,e,r){"use strict";r("ac1f");var a=r("23e7"),n=r("da84"),o=r("c65b"),s=r("e330"),i=r("1626"),c=r("861d"),l=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),u=n.Error,d=s(/./.test);a({target:"RegExp",proto:!0,forced:!l},{test:function(t){var e=this.exec;if(!i(e))return d(this,t);var r=o(e,this,t);if(null!==r&&!c(r))throw new u("RegExp exec method returned something other than an Object or null");return!!r}})},"27b3":function(t,e,r){},2909:function(t,e,r){"use strict";function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,a=new Array(e);r<e;r++)a[r]=t[r];return a}function n(t){if(Array.isArray(t))return a(t)}r.d(e,"a",(function(){return c}));r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0"),r("a630");function o(t){if("undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}r("fb6a"),r("b0c0"),r("ac1f"),r("00b4");function s(t,e){if(t){if("string"===typeof t)return a(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}r("d9e2");function i(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function c(t){return n(t)||o(t)||s(t)||i()}},"30e9":function(t,e,r){t.exports=r.p+"img/back-icon.f3e5a7a2.svg"},"4df4":function(t,e,r){"use strict";var a=r("da84"),n=r("0366"),o=r("c65b"),s=r("7b0b"),i=r("9bdd"),c=r("e95a"),l=r("68ee"),u=r("07fa"),d=r("8418"),f=r("9a1f"),v=r("35a1"),w=a.Array;t.exports=function(t){var e=s(t),r=l(this),a=arguments.length,b=a>1?arguments[1]:void 0,p=void 0!==b;p&&(b=n(b,a>2?arguments[2]:void 0));var m,h,g,C,F,y,x=v(e),k=0;if(!x||this==w&&c(x))for(m=u(e),h=r?new this(m):w(m);m>k;k++)y=p?b(e[k],k):e[k],d(h,k,y);else for(C=f(e,x),F=C.next,h=r?new this:[];!(g=o(F,C)).done;k++)y=p?i(C,b,[g.value,k],!0):g.value,d(h,k,y);return h.length=k,h}},"5dc8":function(t,e,r){"use strict";r("27b3")},"6ba8":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[r("Sidebar"),r("div",{staticClass:"follower"},[r("FollowerList",{attrs:{followers:t.followers}})],1),r("RightColumn")],1)},n=[],o=r("1da1"),s=r("5530"),i=(r("96cf"),r("5ea5")),c=r("dc59"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"follower-container"},[a("div",{staticClass:"follower-header"},[a("button",{staticClass:"back-to",attrs:{type:"button"},on:{click:function(e){return t.$router.go(-1)}}},[a("img",{staticClass:"back-icon",attrs:{src:r("30e9")}})]),a("div",{staticClass:"title"},[a("router-link",{staticClass:"name",attrs:{to:{path:"/users/"+t.id}}},[a("span",{staticClass:"name"},[t._v(t._s(t.name))])]),a("p",[t._v(t._s(t.tweetCount)+" 推文")])],1)]),a("div",{staticClass:"nav-tabs"},[a("button",{staticClass:"nav-item",class:{active:t.isActive},attrs:{type:"button"}},[a("router-link",{staticClass:"nav-link",class:{active:t.isActive},attrs:{to:{name:"user-follower",params:t.id}}},[t._v(" 跟隨者 ")])],1),a("button",{staticClass:"nav-item",attrs:{type:"button"}},[a("router-link",{staticClass:"nav-link",attrs:{to:{name:"user-following",params:t.id}}},[t._v(" 正在跟隨 ")])],1)]),a("div",{staticClass:"follower-list"},t._l(t.users,(function(e){return a("div",{key:e.id,staticClass:"list-item"},[a("div",{staticClass:"user-info"},[a("div",{staticClass:"user-avatar"},[a("router-link",{staticClass:"avatar-img",attrs:{to:{path:"/users/"+e.Followers.id}}},[a("img",{staticClass:"avatar-img",attrs:{src:e.Followers.avatar}})])],1),a("div",{staticClass:"content"},[a("router-link",{attrs:{to:{path:"/users/"+e.Followers.id}}},[a("div",{staticClass:"user-name"},[t._v(t._s(e.Followers.name))]),a("div",{staticClass:"user-accountName"},[t._v(" @"+t._s(e.Followers.account)+" ")])]),a("span",{staticClass:"introduce"},[t._v(" "+t._s(e.Followers.introduction)+" ")])],1)]),e.Followers.isFollowed?a("div",{staticClass:"toggleBtn"},[a("button",{staticClass:"following-btn",on:{click:function(r){return r.stopPropagation(),r.preventDefault(),t.deleteFollow(e.Followers.id)}}},[t._v(" 正在追隨 ")])]):a("div",{staticClass:"toggleBtn"},[a("button",{staticClass:"unfollowed-btn",on:{click:function(r){return r.stopPropagation(),r.preventDefault(),t.addFollow(e.Followers.id)}}},[t._v(" 追隨 ")])])])})),0)])},u=[],d=r("2909"),f=(r("b0c0"),r("4de4"),r("d3b7"),r("2f62")),v=r("1602"),w=r("604d"),b={name:"FollowerList",props:{followers:{type:Array,required:!0}},data:function(){return{id:"",name:"",tweetCount:"",isActive:!0,users:this.followers}},watch:{followers:function(t){this.users=Object(d["a"])(t)}},created:function(){var t=this.$route.params.id;this.fetchUser(t)},computed:Object(s["a"])({},Object(f["b"])(["currentUser"])),methods:{fetchUser:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,v["a"].getProfile({userId:t});case 3:return a=r.sent,n=a.data,r.next=7,n.id;case 7:e.id=r.sent,e.name=n.name,e.tweetCount=n.tweetCount,r.next=15;break;case 12:r.prev=12,r.t0=r["catch"](0),console.log(r.t0);case 15:case"end":return r.stop()}}),r,null,[[0,12]])})))()},addFollow:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(r.prev=0,e.currentUser.id!==t){r.next=4;break}return e.$bus.$emit("toast",{icon:"error",title:"不能追隨自己喔"}),r.abrupt("return");case 4:return r.next=6,w["a"].addFollow(t);case 6:a=r.sent,a.data,e.users.filter((function(e){e.Followers.id===t&&(e.Followers.isFollowed=!0)})),e.$bus.$emit("toast",{icon:"success",title:"追隨成功"}),r.next=15;break;case 12:r.prev=12,r.t0=r["catch"](0),console.log(r.t0);case 15:case"end":return r.stop()}}),r,null,[[0,12]])})))()},deleteFollow:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,w["a"].deleteFollow(t);case 3:a=r.sent,a.data,e.users.filter((function(e){e.Followers.id===t&&(e.Followers.isFollowed=!1)})),e.$bus.$emit("toast",{icon:"success",title:"取消追隨成功"}),r.next=12;break;case 9:r.prev=9,r.t0=r["catch"](0),console.log(r.t0);case 12:case"end":return r.stop()}}),r,null,[[0,9]])})))()}}},p=b,m=(r("5dc8"),r("2877")),h=Object(m["a"])(p,l,u,!1,null,"6e56f4dc",null),g=h.exports,C={name:"UserFollowers",components:{Sidebar:i["a"],RightColumn:c["a"],FollowerList:g},data:function(){return{follower:{followerId:"",followingId:"",createdAt:"",followers:{name:"",account:"",avatar:"",id:-1,introduction:""},isFollowed:!1},followers:[]}},created:function(){var t=this.$route.params.id;this.fetchFollowers(t)},computed:Object(s["a"])({},Object(f["b"])(["currentUser"])),methods:{fetchFollowers:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function r(){var a,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,v["a"].getUserFollowers(t);case 3:a=r.sent,n=a.data,e.followers=n,r.next=11;break;case 8:r.prev=8,r.t0=r["catch"](0),console.log(r.t0);case 11:case"end":return r.stop()}}),r,null,[[0,8]])})))()}}},F=C,y=(r("fac3"),Object(m["a"])(F,a,n,!1,null,"8ea00362",null));e["default"]=y.exports},"9bdd":function(t,e,r){var a=r("825a"),n=r("2a62");t.exports=function(t,e,r,o){try{return o?e(a(r)[0],r[1]):e(r)}catch(s){n(t,"throw",s)}}},a630:function(t,e,r){var a=r("23e7"),n=r("4df4"),o=r("1c7e"),s=!o((function(t){Array.from(t)}));a({target:"Array",stat:!0,forced:s},{from:n})},c02a:function(t,e,r){},d28b:function(t,e,r){var a=r("746f");a("iterator")},fac3:function(t,e,r){"use strict";r("c02a")},fb6a:function(t,e,r){"use strict";var a=r("23e7"),n=r("da84"),o=r("e8b5"),s=r("68ee"),i=r("861d"),c=r("23cb"),l=r("07fa"),u=r("fc6a"),d=r("8418"),f=r("b622"),v=r("1dde"),w=r("f36a"),b=v("slice"),p=f("species"),m=n.Array,h=Math.max;a({target:"Array",proto:!0,forced:!b},{slice:function(t,e){var r,a,n,f=u(this),v=l(f),b=c(t,v),g=c(void 0===e?v:e,v);if(o(f)&&(r=f.constructor,s(r)&&(r===m||o(r.prototype))?r=void 0:i(r)&&(r=r[p],null===r&&(r=void 0)),r===m||void 0===r))return w(f,b,g);for(a=new(void 0===r?m:r)(h(g-b,0)),n=0;b<g;b++,n++)b in f&&d(a,n,f[b]);return a.length=n,a}})}}]);
//# sourceMappingURL=chunk-18e4b1be.9045cf83.js.map