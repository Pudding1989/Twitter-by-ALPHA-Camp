(function(t){function e(e){for(var s,a,o=e[0],c=e[1],l=e[2],u=0,d=[];u<o.length;u++)a=o[u],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(t[s]=c[s]);f&&f(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],s=!0,a=1;a<n.length;a++){var o=n[a];0!==r[o]&&(s=!1)}s&&(i.splice(e--,1),t=c(c.s=n[0]))}return t}var s={},a={app:0},r={app:0},i=[];function o(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-185827cc":"2866423f","chunk-18e4b1be":"9045cf83","chunk-319ff05a":"b30e2ba3","chunk-33af8dee":"3931e51d","chunk-36c8aa9e":"6a49772a","chunk-47dbc52c":"f1fd3986","chunk-50238fec":"13347609","chunk-5bcf83f3":"4c5ea130","chunk-8d4b86e0":"579e0020","chunk-f2083b7a":"06066f1b","chunk-6661e6f3":"4a7787db","chunk-67e8d549":"42e16c9c","chunk-6c4ec0b9":"87335157","chunk-7172a392":"637a5970","chunk-7364d033":"da5db5a3","chunk-75e871da":"984bbba4","chunk-ad809c9a":"3bb6e8a1"}[t]+".js"}function c(e){if(s[e])return s[e].exports;var n=s[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-185827cc":1,"chunk-18e4b1be":1,"chunk-319ff05a":1,"chunk-33af8dee":1,"chunk-36c8aa9e":1,"chunk-47dbc52c":1,"chunk-50238fec":1,"chunk-5bcf83f3":1,"chunk-8d4b86e0":1,"chunk-f2083b7a":1,"chunk-6661e6f3":1,"chunk-67e8d549":1,"chunk-6c4ec0b9":1,"chunk-7172a392":1,"chunk-7364d033":1,"chunk-75e871da":1,"chunk-ad809c9a":1};a[t]?e.push(a[t]):0!==a[t]&&n[t]&&e.push(a[t]=new Promise((function(e,n){for(var s="css/"+({}[t]||t)+"."+{"chunk-185827cc":"55b55c12","chunk-18e4b1be":"9574224a","chunk-319ff05a":"7da81f62","chunk-33af8dee":"ce1ad518","chunk-36c8aa9e":"d72128db","chunk-47dbc52c":"2d986cc6","chunk-50238fec":"19c7a831","chunk-5bcf83f3":"d0a0882c","chunk-8d4b86e0":"b7a61354","chunk-f2083b7a":"213ec29f","chunk-6661e6f3":"7e42372d","chunk-67e8d549":"278c520d","chunk-6c4ec0b9":"5db12fe7","chunk-7172a392":"df0ef0c6","chunk-7364d033":"884b00c1","chunk-75e871da":"e42e3ee9","chunk-ad809c9a":"b3061c1d"}[t]+".css",r=c.p+s,i=document.getElementsByTagName("link"),o=0;o<i.length;o++){var l=i[o],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===s||u===r))return e()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){l=d[o],u=l.getAttribute("data-href");if(u===s||u===r)return e()}var f=document.createElement("link");f.rel="stylesheet",f.type="text/css",f.onload=e,f.onerror=function(e){var s=e&&e.target&&e.target.src||r,i=new Error("Loading CSS chunk "+t+" failed.\n("+s+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=s,delete a[t],f.parentNode.removeChild(f),n(i)},f.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(f)})).then((function(){a[t]=0})));var s=r[t];if(0!==s)if(s)e.push(s[2]);else{var i=new Promise((function(e,n){s=r[t]=[e,n]}));e.push(s[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(f);var n=r[t];if(0!==n){if(n){var s=e&&("load"===e.type?"missing":e.type),a=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+s+": "+a+")",d.name="ChunkLoadError",d.type=s,d.request=a,n[1](d)}r[t]=void 0}};var f=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},c.m=t,c.c=s,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)c.d(n,s,function(e){return t[e]}.bind(null,s));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/Twitter-by-ALPHA-Camp/",c.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var f=u;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"02ab":function(t,e,n){t.exports=n.p+"img/fedora-hat.11d75f39.png"},"033c":function(t,e,n){"use strict";n("8cee")},"071c":function(t,e,n){"use strict";n("bb8a")},"0e9d":function(t,e,n){t.exports=n.p+"img/reply-icon.3df6b89d.svg"},"0eb4":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition-group",{staticClass:"toaster",attrs:{tag:"div",name:"toast"}},t._l(t.toastList,(function(e,s){return n("div",{key:s,staticClass:"toast d-flex align-items-center justify-content-between"},[n("p",[t._v(t._s(e.title))]),"error"===e.icon?n("svg",{attrs:{width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("circle",{attrs:{opacity:"0.12",cx:"28",cy:"28.0001",r:"28",fill:"#FC5A5A"}}),n("path",{attrs:{d:"M28 18C22.48 18 18 22.48 18 28C18 33.52 22.48 38 28 38C33.52 38 38 33.52 38 28C38 22.48 33.52 18 28 18ZM29 33H27V31H29V33ZM29 29H27V23H29V29Z",fill:"#FC5A5A"}})]):t._e(),"success"===e.icon?n("svg",{attrs:{width:"56",height:"56",viewBox:"0 0 56 56",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("circle",{attrs:{opacity:"0.12",cx:"28",cy:"28.0001",r:"28",fill:"#82C43C"}}),n("path",{attrs:{d:"M22.4376 28.6426C22.1635 28.4177 21.8063 28.2956 21.4377 28.301C21.069 28.3063 20.7162 28.4386 20.4501 28.6713C20.1839 28.904 20.024 29.22 20.0025 29.5557C19.981 29.8915 20.0994 30.2223 20.3341 30.4817L23.5771 33.5869C23.7128 33.7169 23.876 33.8204 24.0567 33.8914C24.2375 33.9624 24.4321 33.9994 24.6288 34.0001C24.8246 34.0011 25.0185 33.9663 25.1992 33.8976C25.3799 33.8289 25.5436 33.7278 25.6806 33.6003L35.5849 24.2713C35.7191 24.1453 35.8249 23.9964 35.8961 23.8331C35.9673 23.6698 36.0026 23.4953 35.9999 23.3195C35.9971 23.1438 35.9565 22.9703 35.8803 22.8089C35.8041 22.6475 35.6938 22.5013 35.5556 22.3788C35.4175 22.2563 35.2543 22.1598 35.0753 22.0949C34.8963 22.0299 34.705 21.9977 34.5124 22.0002C34.3198 22.0027 34.1296 22.0398 33.9527 22.1093C33.7758 22.1788 33.6156 22.2795 33.4813 22.4055L24.6434 30.7483L22.4376 28.6426Z",fill:"#82C43C"}})]):t._e()])})),0)},a=[],r=(n("a434"),{data:function(){return{toastList:[]}},watch:{toastList:function(){var t=this;this.toastList.length>=8?this.toastList.splice(-1,4):this.toastList.length&&setTimeout((function(){t.toastList.splice(-1,1)}),3e3)}},beforeMount:function(){var t=this;this.$bus.$on("toast",(function(e){t.toastList.unshift(e)}))},beforeDestroy:function(){}}),i=r,o=(n("94db"),n("2877")),c=Object(o["a"])(i,s,a,!1,null,"919226b0",null);e["a"]=c.exports},1264:function(t,e,n){"use strict";n("2bf6")},"13a6":function(t,e,n){t.exports=n.p+"img/spanish-paprika.5d15d55b.png"},"155f":function(t,e,n){t.exports=n.p+"img/logo.af0af53b.svg"},"15bd":function(t,e,n){},1602:function(t,e,n){"use strict";n("b0c0");var s=n("c968");e["a"]={getCurrent:function(){return s["a"].get("/users/account")},getProfile:function(t){var e=t.userId;return s["a"].get("/users/".concat(e))},editAccount:function(t){var e=t.account,n=t.name,a=t.email,r=t.password;return s["a"].put("/users/account/setting",{account:e,name:n,password:r,email:a})},getUserTweetList:function(t){return s["a"].get("users/".concat(t,"/tweets"))},getUserReplyList:function(t){return s["a"].get("users/".concat(t,"/replied_tweets"))},getUserLikeList:function(t){return s["a"].get("/users/".concat(t,"/likes"))},getUsersTop:function(){return s["a"].get("/users/top")},editProfile:function(t){var e=t.userId,n=t.formData;return s["a"].put("/users/".concat(e),n)},getUserFollowers:function(t){return s["a"].get("/users/".concat(t,"/followers"))},getUserFollowings:function(t){return s["a"].get("/users/".concat(t,"/followings"))}}},"1bf8":function(t,e,n){},2298:function(t,e,n){t.exports=n.p+"img/man.20d68c7b.png"},2375:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"spinner center"},[n("div",{staticClass:"spinner-blade"}),n("div",{staticClass:"spinner-blade"}),n("div",{staticClass:"spinner-blade"}),n("div",{staticClass:"spinner-blade"}),n("div",{staticClass:"spinner-blade"}),n("div",{staticClass:"spinner-blade"}),n("div",{staticClass:"spinner-blade"}),n("div",{staticClass:"spinner-blade"}),n("div",{staticClass:"spinner-blade"}),n("div",{staticClass:"spinner-blade"}),n("div",{staticClass:"spinner-blade"}),n("div",{staticClass:"spinner-blade"})])}],r=(n("e70a"),n("2877")),i={},o=Object(r["a"])(i,s,a,!1,null,"5dc581d4",null);e["a"]=o.exports},2708:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"c",(function(){return i})),n.d(e,"d",(function(){return o})),n.d(e,"b",(function(){return c}));var s=n("c1df"),a=n.n(s),r={filters:{fromNow:function(t){return t?a()(t).locale("zh-tw").fromNow():"-"}}},i={filters:{nullAvatar:function(t){var e=[n("ceb8"),n("de39"),n("80ae"),n("02ab"),n("8f3c"),n("69f36"),n("dd6e"),n("2298"),n("7cd3")];return t||e[Math.floor(Math.random()*e.length)]}}},o={filters:{nullCover:function(t){var e=[n("dc01"),n("aa96"),n("a2a0"),n("58ac"),n("edd5"),n("3b56"),n("8510"),n("13a6"),n("9197"),n("4b9b")];return t||e[Math.floor(Math.random()*e.length)]}}},c={filters:{messageTime:function(t){return a()(t).isValid()?a()(t).locale("zh-tw").format("a h:mm"):"未能取得正確時間"}}}},2797:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"delay"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.modal,expression:"modal"}],staticClass:"modal"},[n("transition",{attrs:{name:"fade"}},[t.modal?n("div",{staticClass:"modal-background",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.modal=!1}}}):t._e()]),n("transition",{attrs:{name:"slide"}},[t.modal?n("div",{staticClass:"modal-dialog d-flex flex-column",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.modal=!0}}},[n("div",{staticClass:"modal-header"},[n("button",{staticClass:"close d-flex justify-content-center align-items-center",attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.modal=!1}}},[n("svg",{attrs:{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M9.41387 7.99988L15.2069 2.20687C15.5969 1.81687 15.5969 1.18388 15.2069 0.792875C14.8169 0.401875 14.1839 0.402875 13.7929 0.792875L7.99988 6.58588L2.20687 0.792875C1.81687 0.402875 1.18388 0.402875 0.792875 0.792875C0.401875 1.18288 0.402875 1.81587 0.792875 2.20687L6.58588 7.99988L0.792875 13.7929C0.402875 14.1829 0.402875 14.8159 0.792875 15.2069C0.987875 15.4019 1.24287 15.4999 1.49987 15.4999C1.75687 15.4999 2.01187 15.4019 2.20687 15.2069L7.99988 9.41387L13.7929 15.2069C13.9879 15.4019 14.2429 15.4999 14.4999 15.4999C14.7569 15.4999 15.0119 15.4019 15.2069 15.2069C15.5969 14.8169 15.5969 14.1839 15.2069 13.7929L9.41387 7.99988Z",fill:"#FF6600"}})])])]),n("hr"),n("div",{staticClass:"modal-body d-flex flex-column"},[n("div",{staticClass:"tweet d-flex"},[n("div",{staticClass:"avatar"},[n("SkeletonScreen",{attrs:{isLoading:t.isLoading,skeleton:"div"},scopedSlots:t._u([{key:"originalNode",fn:function(){return[n("router-link",{attrs:{to:"/users/"+t.id}},[n("img",{attrs:{src:t._f("nullAvatar")(t.avatar),alt:"預設的頭像"}})])]},proxy:!0}],null,!1,2089896801)})],1),n("div",{staticClass:"tweet-body"},[n("div",{staticClass:"d-flex"},[n("h3",{staticClass:"name"},[n("SkeletonScreen",{attrs:{isLoading:t.isLoading,skeleton:"span",skeletonLength:6},scopedSlots:t._u([{key:"originalNode",fn:function(){return[n("router-link",{attrs:{to:"users/"+t.id}},[t._v(t._s(t.name))])]},proxy:!0}],null,!1,940838698)})],1),n("span",{staticClass:"info"},[n("SkeletonScreen",{attrs:{isLoading:t.isLoading,skeleton:"span",skeletonLength:3},scopedSlots:t._u([{key:"originalNode",fn:function(){return[n("router-link",{attrs:{to:"users/"+t.id}},[t._v("@"+t._s(t.account))])]},proxy:!0}],null,!1,2803608263)}),t._v("．"),n("SkeletonScreen",{attrs:{isLoading:t.isLoading,skeleton:"span",skeletonLength:2},scopedSlots:t._u([{key:"originalNode",fn:function(){return[t.isLoading?t._e():n("router-link",{attrs:{to:"users/"+t.id}},[t._v(t._s(t._f("fromNow")(t.createdAt)))])]},proxy:!0}],null,!1,78222691)})],1)]),n("div",{staticClass:"tweet-content"},[n("SkeletonScreen",{attrs:{isLoading:t.isLoading,skeleton:"div",skeletonLine:2},scopedSlots:t._u([{key:"originalNode",fn:function(){return[n("span",[t._v(t._s(t.description))])]},proxy:!0}],null,!1,3543712116)})],1),n("span",{staticClass:"reply-to"},[t._v("回覆給 "),n("SkeletonScreen",{attrs:{isLoading:t.isLoading,skeleton:"span",skeletonLength:3},scopedSlots:t._u([{key:"originalNode",fn:function(){return[n("router-link",{attrs:{to:"users/"+t.id}},[t._v("@"+t._s(t.account))])]},proxy:!0}],null,!1,2803608263)})],1)])]),n("div",{staticClass:"reply d-flex"},[n("div",{staticClass:"avatar"},[n("transition",{attrs:{name:"skeleton",mode:"out-in"}},[n("router-link",{attrs:{to:"/profile"}},[n("img",{attrs:{src:t._f("nullAvatar")(t.currentUser.avatar),alt:"預設的頭像"}})])],1)],1),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.reply,expression:"reply"}],staticClass:"reply-content",attrs:{placeholder:"推你的回覆",maxlength:"140",autofocus:""},domProps:{value:t.reply},on:{input:function(e){e.target.composing||(t.reply=e.target.value)}}})])]),n("div",{staticClass:"modal-footer d-flex justify-content-end align-items-center"},[n("transition",{attrs:{name:"hint"}},[t.replyHint?n("span",{staticClass:"hint"},[t._v(t._s("empty"===t.replyHint?"內容不可空白":"字數不可超過 140 字"))]):t._e(),t._v(" >")]),n("button",{attrs:{disabled:t.isProcessing,type:"button"},on:{click:t.submitReply}},[t._v(" 回覆 ")])],1)]):t._e()])],1)])},a=[],r=n("1da1"),i=n("5530"),o=(n("96cf"),n("b0c0"),n("a4d3"),n("e01a"),n("498a"),n("d9e2"),n("2708")),c=n("7482"),l=n("c968"),u={subMitReply:function(t){var e=t.tweetId,n=t.comment;return l["a"].post("tweets/".concat(e,"/replies"),{comment:n})}},d=n("2f62"),f=n("bed1"),p={components:{SkeletonScreen:f["a"]},mixins:[o["a"],o["c"]],data:function(){return{modal:!1,isLoading:!0,tweetId:-1,id:-1,avatar:"",name:"",account:"",createdAt:"",description:"",reply:"",replyHint:!1,isProcessing:!1}},computed:Object(i["a"])(Object(i["a"])({},Object(d["b"])(["currentUser"])),{},{replyCount:function(){return this.reply?(this.reply.length>=140&&(this.replyHint=!0),this.reply.length<=140&&(this.replyHint=!1),this.reply.length):0}}),watch:{reply:function(t){t.length>=140?this.replyHint=!0:this.replyHint=!1}},methods:{fetchTweet:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var s,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return e.isLoading=!0,n.prev=1,n.next=4,c["a"].fetchTweet({tweetId:t});case 4:s=n.sent,a=s.data,e.id=a.userId,e.avatar=a.User.avatar,e.name=a.User.name,e.account=a.User.account,e.createdAt=a.createdAt,e.description=a.description,e.isLoading=!1,n.next=20;break;case 15:n.prev=15,n.t0=n["catch"](1),console.log(n.t0),e.$bus.$emit("toast",{icon:"error",title:"".concat(n.t0)}),e.isLoading=!1;case 20:case"end":return n.stop()}}),n,null,[[1,15]])})))()},submitReply:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.reply&&t.reply.trim().length){e.next=5;break}return t.replyHint="empty",t.$bus.$emit("toast",{icon:"error",title:"內容不可空白"}),e.abrupt("return");case 5:if(!(t.reply&&t.reply.length>=140)){e.next=9;break}return t.replyHint=!0,t.$bus.$emit("toast",{icon:"error",title:"字數不可超過 140 字"}),e.abrupt("return");case 9:return t.isProcessing=!0,e.next=12,u.subMitReply({tweetId:t.tweetId,comment:t.reply});case 12:if(n=e.sent,s=n.data,console.log("測試成功",s),"success"!==s.status){e.next=19;break}t.$bus.$emit("toast",{icon:"success",title:"回覆發送成功"}),e.next=20;break;case 19:throw new Error(s.message);case 20:t.modal=!1,t.isProcessing=!1,t.reply="",e.next=30;break;case 25:e.prev=25,e.t0=e["catch"](0),console.log(e.t0),t.isProcessing=!1,t.$bus.$emit("toast",{icon:"error",title:"".concat(e.t0)});case 30:case"end":return e.stop()}}),e,null,[[0,25]])})))()}},mounted:function(){var t=this;this.$bus.$on("replyModal",(function(e){t.fetchTweet(e),t.tweetId=e,t.modal=!0}))}},m=p,b=(n("a2c8"),n("2877")),h=Object(b["a"])(m,s,a,!1,null,"ac609a6c",null);e["a"]=h.exports},"2bf6":function(t,e,n){},"3b56":function(t,e,n){t.exports=n.p+"img/ruby-garden.892d7815.png"},"3f1e":function(t,e,n){},4678:function(t,e,n){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(t){var e=r(t);return n(e)}function r(t){if(!n.o(s,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return s[t]}a.keys=function(){return Object.keys(s)},a.resolve=r,t.exports=a,a.id="4678"},"4b9b":function(t,e,n){t.exports=n.p+"img/wooded-flora.242545ff.png"},"51d0":function(t,e,n){"use strict";var s=n("c968");e["a"]={getTweets:function(){return s["a"].get("/tweets")},getOtherPost:function(t){return s["a"].get("/tweets/".concat(t))},getTweetReplies:function(t){return s["a"].get("/tweets/".concat(t,"/replies"))},addLike:function(t){return s["a"].post("/tweets/".concat(t,"/like"),null)},deleteLike:function(t){return s["a"].post("/tweets/".concat(t,"/unlike"))},addPostLike:function(t){return s["a"].post("/tweets/".concat(t))}}},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var s,a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",[n("router-view"),n("Toast")],1)},i=[],o=n("0eb4"),c={components:{Toast:o["a"]}},l=c,u=(n("5c0b"),n("2877")),d=Object(u["a"])(l,r,i,!1,null,null,null),f=d.exports,p=n("1da1"),m=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("caad"),n("b0c0"),n("2532"),n("8c4f")),b=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",[n("h1",[t._v("404 Page Not Found")]),n("ReplyModal")],1)},h=[],v=n("2797"),g={components:{ReplyModal:v["a"]}},C=g,w=Object(u["a"])(C,b,h,!1,null,null,null),k=w.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{staticClass:"form-area d-flex flex-column align-items-center",on:{submit:t.handleSubmit}},[n("svg",{staticClass:"logo",attrs:{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M30.6996 23.4709C30.6996 23.4709 23.2328 35.5781 17.1109 35.5781C6.40314 35.5781 16.3821 12.5132 24.1916 12.5132C29.641 12.5132 30.6996 23.4709 30.6996 23.4709Z",fill:"#FF6600"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M39.5723 38.6972C37.4451 40.9607 34.8198 42.6976 31.9044 43.7701C28.989 44.8426 25.8639 45.2213 22.7767 44.8761C19.6895 44.5309 16.7252 43.4713 14.1188 41.7813C11.5125 40.0914 9.33573 37.8175 7.76123 35.1401C9.5314 37.5477 12.5338 39.1527 16.803 39.1527C27.3199 39.1527 33.2899 30.98 33.2899 30.98C33.2899 30.98 33.8062 37.4392 39.5593 38.6972H39.5723Z",fill:"#FF6600"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M42.7223 15.7451C44.2963 18.7527 45.0781 22.1116 44.9939 25.505C44.9096 28.8984 43.9621 32.2144 42.2407 35.1401C40.8792 34.3764 39.8725 33.1082 39.4379 31.609L37.1558 24.7724L42.7223 15.7451Z",fill:"#FF6600"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M25.0031 5.01737C30.0185 5.01403 34.8513 6.89881 38.5398 10.2967L34.7521 16.4088C33.3811 12.843 30.5957 9.2729 25.1767 9.2729C14.0784 9.2729 5.85231 21.3888 5.85231 28.9846C5.84986 29.9669 5.97528 30.9454 6.22543 31.8953C5.11558 28.8725 4.75205 25.6265 5.16572 22.4331C5.57938 19.2398 6.75802 16.1934 8.60147 13.5531C10.4449 10.9127 12.8987 8.75634 15.7542 7.26726C18.6097 5.77818 21.7826 5.00039 25.0031 5V5.01737Z",fill:"#FF6600"}})]),n("h1",{staticClass:"title"},[t._v("登入 Alphitter")]),n("div",{staticClass:"form-row d-flex flex-column",class:{invalid:t.accountHint,"is-processing":t.isProcessing}},[n("label",{attrs:{for:"account"}},[t._v("帳號")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.account,expression:"account",modifiers:{trim:!0}}],attrs:{disabled:t.isProcessing,id:"account",type:"text"},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),n("transition",{attrs:{name:"hint"}},[t.accountHint?n("p",{staticClass:"error-hint"},[t._v("帳號不存在！")]):t._e()])],1),n("div",{staticClass:"form-row d-flex flex-column",class:{invalid:t.passwordHint,"is-processing":t.isProcessing}},[n("label",{attrs:{for:"password"}},[t._v("密碼")]),n("input",{directives:[{name:"model",rawName:"v-model.trim",value:t.password,expression:"password",modifiers:{trim:!0}}],attrs:{disabled:t.isProcessing,id:"password",type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value.trim())},blur:function(e){return t.$forceUpdate()}}}),n("transition",{attrs:{name:"hint"}},[t.passwordHint?n("p",{staticClass:"error-hint"},[t._v("密碼錯誤！")]):t._e()])],1),n("button",{staticClass:"login",attrs:{disabled:t.isProcessing,type:"submit"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.handleSubmit.apply(null,arguments)}}},[t.isProcessing?n("Spinner"):t._e(),n("span",[t._v(t._s(t.isProcessing?"登入中..":"登入"))])],1),n("div",{staticClass:"link-container"},[n("router-link",{attrs:{to:"/regist"}},[t._v("註冊Alphitter")]),n("span",[t._v("‧")]),n("router-link",{attrs:{to:"/admin"}},[t._v("後台登入")])],1)])},x=[],L=(n("d9e2"),n("ac1f"),n("466d"),n("2375")),y=n("7696"),_={components:{Spinner:L["a"]},data:function(){return{account:"",accountHint:!1,password:"",passwordHint:!1,isProcessing:!1}},watch:{account:function(t,e){t!==e&&!0===this.accountHint&&(this.accountHint=!1)},password:function(t,e){t!==e&&!0===this.passwordHint&&(this.passwordHint=!1)}},methods:{handleSubmit:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.accountHint&&!t.passwordHint){e.next=3;break}return t.$bus.$emit("toast",{icon:"error",title:"看一下錯誤提示，再按登入啦！"}),e.abrupt("return");case 3:if(t.account){e.next=6;break}return t.$bus.$emit("toast",{icon:"error",title:"請輸入帳號"}),e.abrupt("return");case 6:if(t.password){e.next=9;break}return t.$bus.$emit("toast",{icon:"error",title:"請輸入密碼"}),e.abrupt("return");case 9:return t.isProcessing=!0,e.prev=10,e.next=13,y["a"].signIn({account:t.account,password:t.password});case 13:if(n=e.sent,s=n.data,"success"===s.status){e.next=17;break}throw new Error(s.message);case 17:localStorage.setItem("token",s.data.token),t.$store.commit("setCurrentUser",s.data.user),t.$bus.$emit("toast",{icon:"success",title:"登入成功"}),t.$router.push({name:"main"}),e.next=29;break;case 23:e.prev=23,e.t0=e["catch"](10),t.isProcessing=!1,console.log(e.t0),e.t0.message.match(/帳號不存在/)&&(t.accountHint=!0,t.$bus.$emit("toast",{icon:"error",title:"帳號不存在!"})),e.t0.message.match(/Incorrect/i)&&e.t0.message.match(/Password!/i)&&(t.passwordHint=!0,t.$bus.$emit("toast",{icon:"error",title:"密碼錯誤！"}));case 29:case"end":return e.stop()}}),e,null,[[10,23]])})))()}}},$=_,P=(n("bf2e"),Object(u["a"])($,j,x,!1,null,"027f5d6d",null)),O=P.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container"},[s("form",{staticClass:"admin-container",on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.handleSubmit.apply(null,arguments)}}},[s("img",{staticClass:"logo",attrs:{src:n("155f")}}),s("span",{staticClass:"page-title"},[t._v(" 後台登入 ")]),s("div",{staticClass:"input-container"},[s("label",{staticClass:"input-title"},[t._v(" 帳號 ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.account,expression:"account"}],staticClass:"account",staticStyle:{"font-size":"25px"},attrs:{type:"account"},domProps:{value:t.account},on:{input:function(e){e.target.composing||(t.account=e.target.value)}}}),s("label",{staticClass:"error-text"},[t._v(" 帳號不存在！ ")])]),s("div",{staticClass:"input-container"},[s("label",{staticClass:"input-title"},[t._v(" 密碼 ")]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"password",staticStyle:{"font-size":"25px"},attrs:{type:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),s("label",{staticClass:"error-text"},[t._v(" 密碼錯誤！ ")])]),s("button",{staticClass:"adminLogin-btn",attrs:{type:"submit"}},[t._v("登入")]),s("div",{staticClass:"adminLogin-link"},[s("p",[s("router-link",{attrs:{to:"/login"}},[t._v("前台登入")])],1)])])])},H=[],M=n("be6c"),U={components:{Toast:o["a"]},data:function(){return{account:"",password:"",isProcessing:!1}},methods:{handleSubmit:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.account){e.next=4;break}return t.$bus.$emit("toast",{icon:"error",title:"請輸入帳號"}),e.abrupt("return");case 4:if(t.password){e.next=7;break}return t.$bus.$emit("toast",{icon:"error",title:"請輸入密碼"}),e.abrupt("return");case 7:return t.isProcessing=!0,e.next=10,M["a"].adminSignIn({account:t.account,password:t.password});case 10:if(n=e.sent,s=n.data,console.log(s),"success"===s.status){e.next=16;break}throw t.$bus.$emit("toast",{icon:"error",title:"".concat(s.message)}),new Error(s.message);case 16:localStorage.setItem("token",s.data.token),t.$store.commit("setCurrentUser",s.data.user),t.$bus.$emit("toast",{icon:"success",title:"登入成功"}),t.$router.push({name:"admin-main"}),e.next=26;break;case 22:e.prev=22,e.t0=e["catch"](0),t.isProcessing=!1,console.log(e.t0);case 26:case"end":return e.stop()}}),e,null,[[0,22]])})))()}}},R=U,F=(n("071c"),Object(u["a"])(R,S,H,!1,null,"af8d5baa",null)),A=F.exports,E=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("Sidebar"),n("div",{staticClass:"main-reply"},[n("OtherUserPostList")],1),n("RightColumn"),n("ReplyModal")],1)},T=[],N=n("5ea5"),z=n("dc59"),Z=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"reply-container"},[s("div",{staticClass:"main-header"},[s("button",{staticClass:"back-icon",attrs:{type:"button"},on:{click:function(e){return t.$router.go(-1)}}},[s("svg",{attrs:{width:"17",height:"14",viewBox:"0 0 17 14",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M16 5.99988H3.41399L7.70699 1.70687C8.09699 1.31687 8.09699 0.683875 7.70699 0.292875C7.31699 -0.0981249 6.68399 -0.0971249 6.29299 0.292875L0.292988 6.29288C-0.0970117 6.68288 -0.0970117 7.31588 0.292988 7.70687L6.29299 13.7069C6.48799 13.9019 6.74299 13.9999 6.99999 13.9999C7.25699 13.9999 7.51199 13.9019 7.70699 13.7069C8.09699 13.3169 8.09699 12.6839 7.70699 12.2929L3.41399 7.99988H16C16.553 7.99988 17 7.55288 17 6.99988C17 6.44688 16.553 5.99988 16 5.99988Z",fill:"black"}})])]),s("span",{staticClass:"title"},[t._v("推文")])]),s("div",{staticClass:"post"},[s("div",{staticClass:"poster-info"},[s("div",{staticClass:"poster-avatar"},[s("router-link",{attrs:{to:{path:"/users/"+t.tweets.UserId}}},[s("img",{staticClass:"avatar-img",attrs:{src:t.tweets.User.avatar}})])],1),s("router-link",{attrs:{to:{path:"/users/"+t.tweets.id}}},[s("div",{staticClass:"user-info"},[s("div",{staticClass:"user-name"},[t._v(t._s(t.tweets.User.name))]),s("div",{staticClass:"user-accountName"},[t._v("@"+t._s(t.tweets.User.account))])])])],1),s("div",{staticClass:"post-content"},[s("span",{staticClass:"post-text"},[t._v(" "+t._s(t.tweets.description)+" ")])]),s("span",{staticClass:"post-time"},[t._v(t._s(t._f("fromNow")(t.tweets.createdAt)))]),s("div",{staticClass:"count"},[s("span",{staticClass:"reply-count"},[s("p",{staticClass:"number"},[t._v(t._s(t.tweets.replyCount))]),t._v(" 回覆")]),s("span",{staticClass:"like-count"},[s("p",{staticClass:"number"},[t._v(t._s(t.tweets.likeCount))]),t._v(" 喜歡次數")])]),s("div",{staticClass:"icon"},[s("button",{staticClass:"reply-btn",on:{click:function(e){return t.$bus.$emit("replyModal",t.tweets.id)}}},[s("img",{staticClass:"reply-icon",attrs:{src:n("0e9d")}})]),s("div",{staticClass:"like-item"},[t.tweets.isLiked?s("button",{staticClass:"likes",attrs:{type:"button"},on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.deleteLike(t.tweets.id)}}},[s("img",{staticClass:"like-icon",attrs:{src:n("e654"),alt:""}})]):s("button",{staticClass:"likes",on:{click:function(e){return e.stopPropagation(),e.preventDefault(),t.addLike(t.tweets.id)}}},[s("img",{staticClass:"like-icon",attrs:{src:n("fc55"),alt:"/"}})])])])]),t.noReply?s("div",[s("span",{staticClass:"noReply"},[t._v(" 目前沒有回覆 ")])]):t._l(t.replies,(function(e){return s("div",{key:e.id,staticClass:"reply-list"},[s("div",{staticClass:"reply-item"},[s("div",{staticClass:"user-avatar"},[s("router-link",{attrs:{to:{path:"/users/"+e.User.id}}},[s("img",{staticClass:"avatar-img",attrs:{src:e.User.avatar}})])],1),s("div",{staticClass:"reply-content"},[s("router-link",{attrs:{to:{path:"/users/"+e.id}}},[s("div",{staticClass:"replier-info"},[s("div",{staticClass:"user-name"},[t._v(t._s(e.User.name))]),s("div",{staticClass:"user-accountName"},[t._v("@"+t._s(e.User.account))]),s("div",{staticClass:"reply-time"},[t._v("‧"+t._s(t._f("fromNow")(e.createdAt)))])])]),s("div",{staticClass:"reply"},[s("span",{staticClass:"text"},[t._v("回覆")]),s("router-link",{staticClass:"reply-to",attrs:{to:{path:"/users/"+t.tweets.id}}},[t._v(" @"+t._s(t.tweets.User.name))])],1),s("span",{staticClass:"reply-text"},[t._v(" "+t._s(e.comment)+" ")])],1)])])}))],2)},V=[],I=(n("7482"),n("51d0")),B=n("2708"),D={mixins:[B["a"]],data:function(){return{tweets:{id:1,User:{},description:"",likeCount:0,replyCount:0,isLiked:!1},noReply:!1}},created:function(){var t=this.$route.params,e=t.tweetId;this.fetchTweet(e),this.fetchReplies(e)},methods:{fetchTweet:function(t){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function n(){var s,a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,I["a"].getOtherPost(t);case 3:s=n.sent,a=s.data,r=a,e.tweets=r,console.log("tweets",r),n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](0),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))()},addLike:function(t){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function n(){var s,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,I["a"].addLike(t);case 3:s=n.sent,a=s.data,a,e.tweets.isLiked=!e.tweets.isLiked,e.tweets.likeCount+=1,n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](0),console.log("error");case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))()},deleteLike:function(t){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function n(){var s,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,I["a"].deleteLike(t);case 3:s=n.sent,a=s.data,a,e.tweets.isLiked=!e.tweets.isLiked,e.tweets.likeCount-=1,n.next=13;break;case 10:n.prev=10,n.t0=n["catch"](0),console.log("error");case 13:case"end":return n.stop()}}),n,null,[[0,10]])})))()},fetchReplies:function(t){var e=this;return Object(p["a"])(regeneratorRuntime.mark((function n(){var s,a,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,I["a"].getTweetReplies(t);case 3:s=n.sent,a=s.data,console.log("tweetid",a),console.log("路由變化"),r=a,e.replies=r,"error"===a.status&&(e.noReply=!0),n.next=15;break;case 12:n.prev=12,n.t0=n["catch"](0),console.log("error");case 15:case"end":return n.stop()}}),n,null,[[0,12]])})))()}}},q=D,G=(n("033c"),Object(u["a"])(q,Z,V,!1,null,"fdbbd53a",null)),J=G.exports,K={components:{Sidebar:N["a"],RightColumn:z["a"],OtherUserPostList:J,ReplyModal:v["a"]}},Q=K,W=(n("1264"),Object(u["a"])(Q,E,T,!1,null,"14844042",null)),X=W.exports,Y=n("ade3"),tt=n("5530"),et=n("2f62"),nt=n("1602");a["a"].use(et["a"]);var st=new et["a"].Store((s={state:{currentUser:{id:-1,account:"",name:"",avatar:"",introduction:"",cover:"",createdAt:"",updatedAt:"",role:""},isAuthenticated:!1,token:""},mutations:{setCurrentUser:function(t,e){t.currentUser=Object(tt["a"])(Object(tt["a"])({},t.currentUser),e),t.token=localStorage.getItem("token"),t.isAuthenticated=!0},revokeAuthentication:function(t){t.currentUser={},t.isAuthenticated=!1,localStorage.removeItem("token")}},actions:{fetchCurrentUser:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var n,s,a,r,i,o,c,l,u,d,f,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nt["a"].getCurrent({});case 3:return n=e.sent,s=n.data,a=s.data,r=a.id,i=a.account,o=a.name,c=a.avatar,l=a.introduction,u=a.cover,d=a.createdAt,f=a.updatedAt,p=a.role,t.commit("setCurrentUser",{id:r,account:i,name:o,avatar:c,introduction:l,cover:u,createdAt:d,updatedAt:f,role:p}),e.abrupt("return",!0);case 10:return e.prev=10,e.t0=e["catch"](0),console.error("can not fetch user information"),console.log("error",e.t0),e.abrupt("return",!1);case 15:case"end":return e.stop()}}),e,null,[[0,10]])})))()}}},Object(Y["a"])(s,"actions",{fetchCurrentUser:function(){var t=this;return Object(p["a"])(regeneratorRuntime.mark((function e(){var n,s,a,r,i,o,c,l,u,d,f,p;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,nt["a"].getCurrent({});case 3:n=e.sent,s=n.data,a=s.data,r=a.id,i=a.account,o=a.name,c=a.avatar,l=a.introduction,u=a.cover,d=a.createdAt,f=a.updatedAt,p=a.role,t.commit("setCurrentUser",{id:r,account:i,name:o,avatar:c,introduction:l,cover:u,createdAt:d,updatedAt:f,role:p}),e.next=13;break;case 9:e.prev=9,e.t0=e["catch"](0),console.error("can not fetch user information"),console.log("error",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))()}}),Object(Y["a"])(s,"modules",{}),s));a["a"].use(m["a"]);var at=function(t,e,n){var s=st.state.currentUser;s&&"admin"!==s.role?n("/not-found"):n()},rt=function(t,e,n){var s=st.state.currentUser;s&&"user"!==s.role?n("/admin"):n()},it=[{path:"/",name:"root",component:O},{path:"/login",name:"user-login",component:O},{path:"/main",name:"main",component:function(){return n.e("chunk-50238fec").then(n.bind(null,"cd56"))},beforeEnter:rt},{path:"/regist",name:"user-regist",component:function(){return n.e("chunk-75e871da").then(n.bind(null,"4eed"))}},{path:"/setting",name:"user-setting",component:function(){return n.e("chunk-67e8d549").then(n.bind(null,"ce99"))},beforeEnter:rt},{path:"/admin",name:"admin-login",component:A},{path:"/admin/main",name:"admin-main",component:function(){return n.e("chunk-36c8aa9e").then(n.bind(null,"4c90"))},beforeEnter:at},{path:"/admin/users",name:"admin-users",component:function(){return n.e("chunk-7172a392").then(n.bind(null,"6135"))},beforeEnter:at},{path:"/chatroom",name:"chatroom",component:function(){return n.e("chunk-319ff05a").then(n.bind(null,"bf48"))},beforeEnter:rt},{path:"/profile",component:function(){return Promise.all([n.e("chunk-5bcf83f3"),n.e("chunk-f2083b7a")]).then(n.bind(null,"c66d"))},beforeEnter:rt,children:[{path:"tweet",component:function(){return n.e("chunk-7364d033").then(n.bind(null,"19d2"))}},{path:"reply",component:function(){return n.e("chunk-33af8dee").then(n.bind(null,"b6b1"))}},{path:"like",component:function(){return n.e("chunk-ad809c9a").then(n.bind(null,"703f"))}},{path:"",redirect:"/profile/tweet"}]},{path:"/users/:id",component:function(){return Promise.all([n.e("chunk-5bcf83f3"),n.e("chunk-8d4b86e0")]).then(n.bind(null,"404c"))},beforeEnter:rt,children:[{path:"tweet",name:"user-tweet",component:function(){return n.e("chunk-185827cc").then(n.bind(null,"9f98"))}},{path:"reply",component:function(){return n.e("chunk-6c4ec0b9").then(n.bind(null,"85d4"))}},{path:"like",component:function(){return n.e("chunk-47dbc52c").then(n.bind(null,"f734"))}},{path:"",redirect:"/users/:id/tweet"}]},{path:"/tweets/:tweetId",name:"other-tweet",component:X,beforeEnter:rt},{path:"/user/:id/follower",name:"user-follower",component:function(){return n.e("chunk-18e4b1be").then(n.bind(null,"6ba8"))},beforeEnter:rt},{path:"/user/:id/following",name:"user-following",component:function(){return n.e("chunk-6661e6f3").then(n.bind(null,"2b8e"))},beforeEnter:rt},{path:"/user/:id",name:"user",component:function(){return Promise.all([n.e("chunk-5bcf83f3"),n.e("chunk-f2083b7a")]).then(n.bind(null,"c66d"))},beforeEnter:rt},{path:"*",name:"not-found",component:k}],ot=new m["a"]({linkExactActiveClass:"active",linkActiveClass:"active",routes:it});ot.beforeEach(function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e,n,s){var a,r,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(window.document.title="Alphitter",a=localStorage.getItem("token"),r=st.state.token,i=st.state.isAuthenticated,!a||a===r){t.next=8;break}return t.next=7,st.dispatch("fetchCurrentUser");case 7:i=t.sent;case 8:if(o=["user-login","user-regist","admin-login"],i||o.includes(e.name)){t.next=12;break}return s("/login"),t.abrupt("return");case 12:if(!i||!o.includes(e.name)){t.next=15;break}return s("/main"),t.abrupt("return");case 15:s();case 16:case"end":return t.stop()}}),t)})));return function(e,n,s){return t.apply(this,arguments)}}());var ct=ot;a["a"].config.productionTip=!1,a["a"].prototype.$bus=new a["a"],new a["a"]({router:ct,store:st,render:function(t){return t(f)}}).$mount("#app")},"58ac":function(t,e,n){t.exports=n.p+"img/persian-lounge.dd394b79.png"},"5c0b":function(t,e,n){"use strict";n("9c0c")},"5ea5":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sidebar-container"},[n("div",{staticClass:"sidebar-header"},[n("router-link",{staticClass:"sidebar-logo",attrs:{to:"/"}},[n("svg",{attrs:{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M30.6996 23.4709C30.6996 23.4709 23.2328 35.5781 17.1109 35.5781C6.40314 35.5781 16.3821 12.5132 24.1916 12.5132C29.641 12.5132 30.6996 23.4709 30.6996 23.4709Z",fill:"#FF6600"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M39.5723 38.6972C37.4451 40.9607 34.8198 42.6976 31.9044 43.7701C28.989 44.8426 25.8639 45.2213 22.7767 44.8761C19.6895 44.5309 16.7252 43.4713 14.1188 41.7813C11.5125 40.0914 9.33573 37.8175 7.76123 35.1401C9.5314 37.5477 12.5338 39.1527 16.803 39.1527C27.3199 39.1527 33.2899 30.98 33.2899 30.98C33.2899 30.98 33.8062 37.4392 39.5593 38.6972H39.5723Z",fill:"#FF6600"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M42.7223 15.7451C44.2963 18.7527 45.0781 22.1116 44.9939 25.505C44.9096 28.8984 43.9621 32.2144 42.2407 35.1401C40.8792 34.3764 39.8725 33.1082 39.4379 31.609L37.1558 24.7724L42.7223 15.7451Z",fill:"#FF6600"}}),n("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M25.0031 5.01737C30.0185 5.01403 34.8513 6.89881 38.5398 10.2967L34.7521 16.4088C33.3811 12.843 30.5957 9.2729 25.1767 9.2729C14.0784 9.2729 5.85231 21.3888 5.85231 28.9846C5.84986 29.9669 5.97528 30.9454 6.22543 31.8953C5.11558 28.8725 4.75205 25.6265 5.16572 22.4331C5.57938 19.2398 6.75802 16.1934 8.60147 13.5531C10.4449 10.9127 12.8987 8.75634 15.7542 7.26726C18.6097 5.77818 21.7826 5.00039 25.0031 5V5.01737Z",fill:"#FF6600"}})])])],1),n("div",{staticClass:"sidebar-items"},[n("router-link",{staticClass:"sidebar-item home",attrs:{to:"/main"}},[n("svg",{attrs:{width:"24",height:"22",viewBox:"0 0 24 22",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M22.58 6.34986L12.475 0.896855C12.178 0.736855 11.821 0.736855 11.525 0.896855L1.42502 6.34986C0.939018 6.61386 0.758018 7.21986 1.02002 7.70586C1.20002 8.04086 1.54502 8.23086 1.90002 8.23086C2.06002 8.23086 2.22402 8.19286 2.37502 8.11086L3.10902 7.71486L4.69902 18.9649C4.91502 20.1789 6.00902 21.0269 7.35902 21.0269H16.641C17.991 21.0269 19.085 20.1789 19.303 18.9389L20.891 7.71386L21.628 8.11186C22.113 8.37486 22.72 8.19386 22.982 7.70786C23.245 7.22186 23.062 6.61486 22.578 6.35286L22.58 6.34986ZM12 14.4349C10.205 14.4349 8.75002 12.9799 8.75002 11.1849C8.75002 9.38986 10.205 7.93486 12 7.93486C13.795 7.93486 15.25 9.38986 15.25 11.1849C15.25 12.9799 13.795 14.4349 12 14.4349Z",fill:"#1C1C1C"}})]),n("div",{staticClass:"item-name"},[t._v("首頁")])]),n("router-link",{staticClass:"sidebar-item chatroom",attrs:{to:"/chatroom"}},[t.chatRoomTab?t._e():n("svg",{attrs:{width:"20",height:"18",viewBox:"0 0 20 18",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M17.25 0H2.75C1.233 0 0 1.234 0 2.752V15.247C0 16.765 1.233 18 2.75 18H17.25C18.767 18 20 16.765 20 15.247V2.752C20 1.234 18.767 0 17.25 0ZM2.75 1.5H17.25C17.94 1.5 18.5 2.06 18.5 2.75V3.464L10.45 8.831C10.177 9.011 9.824 9.013 9.55 8.829L1.5 3.464V2.75C1.5 2.06 2.06 1.5 2.75 1.5V1.5ZM17.25 16.498H2.75C2.06 16.498 1.5 15.938 1.5 15.248V5.222L8.74 10.052C9.123 10.308 9.562 10.436 10 10.436C10.44 10.436 10.877 10.308 11.26 10.053L18.5 5.223V15.245C18.5 15.935 17.94 16.495 17.25 16.495V16.498Z",fill:"#171725"}})]),t.chatRoomTab?n("svg",{attrs:{width:"20",height:"19",viewBox:"0 0 20 19",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M9.55 9.082C9.823 9.264 10.177 9.264 10.45 9.082L20 2.716V2.5C20 1.26 18.99 0.25 17.75 0.25H2.25C1.01 0.25 0 1.26 0 2.5V2.697L9.55 9.082Z",fill:"#FF6600"}}),n("path",{attrs:{d:"M11.26 10.295C10.877 10.55 10.44 10.677 10 10.677C9.56 10.677 9.123 10.55 8.74 10.294L0 4.45203V16.122C0 17.362 1.01 18.372 2.25 18.372H17.75C18.99 18.372 20 17.362 20 16.122V4.47003L11.26 10.293V10.295Z",fill:"#FF6600"}})]):t._e(),n("div",{staticClass:"item-name"},[t._v("公開聊天室")])]),n("router-link",{staticClass:"sidebar-item userInfo",class:{active:t.isSelf},attrs:{to:"/profile"}},[n("svg",{attrs:{width:"18",height:"21",viewBox:"0 0 18 21",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M9.00003 10.8158C10.355 10.8158 11.872 10.6658 12.84 9.55976C13.654 8.62976 13.918 7.19176 13.646 5.16776C13.266 2.34276 11.529 0.655762 9.00003 0.655762C6.47103 0.655762 4.73403 2.34276 4.35403 5.16976C4.08203 7.19176 4.34603 8.62976 5.16003 9.55976C6.12803 10.6668 7.64503 10.8158 9.00003 10.8158ZM5.84003 5.36776C6.00203 4.16776 6.62703 2.15576 9.00003 2.15576C11.373 2.15576 11.998 4.16876 12.16 5.36776C12.367 6.91776 12.217 7.99476 11.71 8.57276C11.255 9.09276 10.444 9.31576 9.00003 9.31576C7.55603 9.31576 6.74503 9.09276 6.29003 8.57276C5.78303 7.99476 5.63303 6.91676 5.84003 5.36776ZM17.28 18.2358C16.403 14.7098 12.998 12.2458 9.00003 12.2458C5.00203 12.2458 1.59703 14.7098 0.720027 18.2358C0.548027 18.9278 0.692027 19.6358 1.11503 20.1758C1.52303 20.6958 2.15503 20.9958 2.84803 20.9958H15.152C15.845 20.9958 16.477 20.6958 16.885 20.1758C17.309 19.6358 17.452 18.9288 17.279 18.2358H17.28ZM15.704 19.2518C15.578 19.4118 15.388 19.4978 15.152 19.4978H2.84803C2.61303 19.4978 2.42203 19.4128 2.29603 19.2518C2.15903 19.0778 2.11603 18.8398 2.17603 18.5978C2.88603 15.7428 5.69303 13.7478 9.00003 13.7478C12.307 13.7478 15.114 15.7418 15.824 18.5978C15.884 18.8398 15.841 19.0778 15.704 19.2518Z",fill:"black"}})]),n("div",{staticClass:"item-name"},[t._v("個人資料")])]),n("router-link",{staticClass:"sidebar-item setting",attrs:{to:"/setting"}},[n("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M12 8.20996C9.90996 8.20996 8.20996 9.90996 8.20996 12C8.20996 14.09 9.90996 15.79 12 15.79C14.09 15.79 15.79 14.09 15.79 12C15.79 9.90996 14.09 8.20996 12 8.20996ZM12 14.29C10.738 14.29 9.70996 13.264 9.70996 12C9.70996 10.736 10.74 9.70996 12 9.70996C13.26 9.70996 14.29 10.736 14.29 12C14.29 13.264 13.262 14.29 12 14.29Z",fill:"black"}}),n("path",{attrs:{d:"M12.36 22.375H11.638C10.455 22.375 9.48399 21.487 9.37599 20.311L9.36199 20.164C9.33699 19.877 9.15499 19.631 8.88999 19.52C8.60399 19.4 8.30799 19.455 8.09199 19.635L7.97599 19.732C7.10799 20.457 5.72299 20.395 4.91599 19.592L4.40599 19.082C3.56999 18.242 3.50999 16.928 4.26599 16.022L4.36399 15.904C4.54999 15.682 4.59399 15.381 4.48599 15.117C4.37599 14.845 4.12799 14.663 3.83999 14.637L3.68999 14.623C2.50999 14.516 1.62299 13.543 1.62299 12.361V11.639C1.62299 10.456 2.51099 9.485 3.68699 9.377L3.84299 9.363C4.12799 9.338 4.37299 9.156 4.48499 8.89C4.59499 8.62 4.54999 8.317 4.36499 8.095L4.27099 7.979C3.51399 7.071 3.57299 5.756 4.40799 4.919L4.91999 4.407C5.72399 3.603 7.10799 3.542 7.97999 4.267L8.09599 4.365C8.31399 4.549 8.62399 4.595 8.88599 4.487C9.15599 4.375 9.33799 4.129 9.36299 3.844L9.37699 3.691C9.48399 2.511 10.457 1.625 11.639 1.625H12.361C13.544 1.625 14.515 2.513 14.623 3.689L14.637 3.845C14.662 4.13 14.843 4.375 15.109 4.485C15.386 4.602 15.689 4.547 15.903 4.368L16.023 4.266C16.89 3.543 18.277 3.604 19.083 4.406L19.593 4.918C20.429 5.756 20.489 7.071 19.733 7.978L19.633 8.096C19.445 8.316 19.399 8.618 19.51 8.884C19.622 9.154 19.87 9.334 20.156 9.362L20.308 9.376C21.488 9.483 22.375 10.456 22.375 11.638V12.361C22.375 13.544 21.487 14.515 20.311 14.623L20.156 14.637C19.872 14.661 19.626 14.842 19.516 15.107C19.403 15.379 19.449 15.681 19.633 15.902L19.733 16.022C20.489 16.927 20.429 18.242 19.593 19.082L19.083 19.592C18.276 20.396 16.893 20.456 16.023 19.732L15.908 19.636C15.691 19.453 15.378 19.406 15.118 19.514C14.845 19.628 14.663 19.874 14.638 20.16L14.624 20.31C14.517 21.483 13.544 22.37 12.362 22.37L12.36 22.375ZM8.58699 17.955C8.88699 17.955 9.17999 18.015 9.45699 18.13C10.247 18.458 10.781 19.184 10.857 20.026L10.871 20.173C10.908 20.573 11.238 20.873 11.641 20.873H12.363C12.763 20.873 13.093 20.573 13.131 20.173L13.145 20.025C13.221 19.183 13.755 18.458 14.537 18.133C15.33 17.803 16.233 17.951 16.87 18.483L16.983 18.577C17.161 18.725 17.349 18.757 17.476 18.757C17.682 18.757 17.876 18.677 18.022 18.53L18.532 18.02C18.816 17.736 18.837 17.29 18.58 16.982L18.48 16.862C17.938 16.212 17.803 15.322 18.128 14.539C18.454 13.749 19.18 13.219 20.022 13.142L20.177 13.128C20.574 13.091 20.877 12.761 20.877 12.358V11.636C20.877 11.236 20.574 10.906 20.175 10.868L20.023 10.854C19.177 10.776 18.453 10.244 18.128 9.461C17.802 8.673 17.938 7.783 18.481 7.134L18.581 7.016C18.838 6.706 18.817 6.26 18.533 5.976L18.023 5.466C17.877 5.319 17.683 5.239 17.477 5.239C17.35 5.239 17.162 5.271 16.985 5.419L16.865 5.519C16.231 6.047 15.315 6.189 14.543 5.873C13.755 5.546 13.223 4.821 13.146 3.977L13.132 3.822C13.097 3.425 12.767 3.122 12.365 3.122H11.642C11.242 3.122 10.912 3.425 10.874 3.824L10.86 3.976C10.784 4.819 10.252 5.544 9.46999 5.869C8.68299 6.195 7.77699 6.052 7.13999 5.519L7.02199 5.423C6.84199 5.273 6.65399 5.243 6.52699 5.243C6.32099 5.243 6.12699 5.323 5.98099 5.469L5.46899 5.979C5.18699 6.263 5.16599 6.709 5.42299 7.017L5.52299 7.135C6.06299 7.788 6.19999 8.679 5.87499 9.46C5.54799 10.248 4.82299 10.78 3.97999 10.857L3.82399 10.871C3.42699 10.908 3.12399 11.238 3.12399 11.641V12.363C3.12399 12.763 3.42699 13.093 3.82599 13.131L3.97599 13.145C4.82399 13.223 5.54899 13.757 5.87299 14.541C6.19799 15.327 6.06299 16.216 5.51999 16.866L5.42399 16.981C5.16399 17.291 5.18599 17.737 5.46999 18.021L5.97999 18.531C6.12599 18.678 6.31999 18.758 6.52599 18.758C6.65299 18.758 6.84099 18.728 7.01799 18.578L7.13399 18.482C7.53999 18.146 8.05699 17.958 8.58699 17.958V17.955Z",fill:"black"}})]),n("div",{staticClass:"item-name"},[t._v("設定")])]),n("button",{staticClass:"twitter-btn",attrs:{type:"submit"},on:{click:function(e){return t.$bus.$emit("tweetModal",!0)}}},[t._v(" 推文 ")])],1),n("button",{staticClass:"logout-item",on:{click:t.logout}},[n("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M11 16L7 12M7 12L11 8M7 12H21M16 16V17C16 17.7956 15.6839 18.5587 15.1213 19.1213C14.5587 19.6839 13.7956 20 13 20H6C5.20435 20 4.44129 19.6839 3.87868 19.1213C3.31607 18.5587 3 17.7956 3 17V7C3 6.20435 3.31607 5.44129 3.87868 4.87868C4.44129 4.31607 5.20435 4 6 4H13C13.7956 4 14.5587 4.31607 15.1213 4.87868C15.6839 5.44129 16 6.20435 16 7V8",stroke:"black","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}})]),n("span",{staticClass:"logout"},[t._v("登出")])]),n("TweetModal")],1)},a=[],r=n("5530"),i=(n("a9e3"),n("b0c0"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"delay"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.modal,expression:"modal"}],staticClass:"modal"},[n("transition",{attrs:{name:"fade"}},[t.modal?n("div",{staticClass:"modal-background",on:{click:function(e){e.stopPropagation(),e.preventDefault(),t.modal=!1}}}):t._e()]),n("transition",{attrs:{name:"slide"}},[t.modal?n("form",{staticClass:"modal-dialog d-flex flex-column",on:{submit:function(e){return e.preventDefault(),t.submitTweet.apply(null,arguments)},click:function(e){e.stopPropagation(),t.modal=!0}}},[n("div",{staticClass:"modal-header"},[n("button",{staticClass:"close d-flex justify-content-center align-items-center",attrs:{type:"button"},on:{click:function(e){e.stopPropagation(),t.modal=!1}}},[n("svg",{attrs:{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M9.41387 7.99988L15.2069 2.20687C15.5969 1.81687 15.5969 1.18388 15.2069 0.792875C14.8169 0.401875 14.1839 0.402875 13.7929 0.792875L7.99988 6.58588L2.20687 0.792875C1.81687 0.402875 1.18388 0.402875 0.792875 0.792875C0.401875 1.18288 0.402875 1.81587 0.792875 2.20687L6.58588 7.99988L0.792875 13.7929C0.402875 14.1829 0.402875 14.8159 0.792875 15.2069C0.987875 15.4019 1.24287 15.4999 1.49987 15.4999C1.75687 15.4999 2.01187 15.4019 2.20687 15.2069L7.99988 9.41387L13.7929 15.2069C13.9879 15.4019 14.2429 15.4999 14.4999 15.4999C14.7569 15.4999 15.0119 15.4019 15.2069 15.2069C15.5969 14.8169 15.5969 14.1839 15.2069 13.7929L9.41387 7.99988Z",fill:"#FF6600"}})])])]),n("hr"),n("div",{staticClass:"modal-body d-flex"},[n("div",{staticClass:"avatar"},[n("router-link",{attrs:{to:"/main"}},[n("img",{attrs:{src:t._f("nullAvatar")(t.currentUser.avatar),alt:"預設的頭像"}})])],1),n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.tweet,expression:"tweet"}],staticClass:"modal-content",attrs:{placeholder:"有什麼新鮮事？",maxlength:"140",autofocus:""},domProps:{value:t.tweet},on:{input:function(e){e.target.composing||(t.tweet=e.target.value)}}})]),n("div",{staticClass:"modal-footer d-flex justify-content-end align-items-center"},[n("transition",{attrs:{name:"hint"}},[t.tweetHint?n("span",{staticClass:"hint"},[t._v(t._s("empty"===t.tweetHint?"內容不可空白":"字數不可超過 140 字"))]):t._e()]),n("button",{attrs:{type:"submit",disabled:t.isProcessing}},[t._v("推文")])],1)]):t._e()])],1)])}),o=[],c=n("1da1"),l=(n("96cf"),n("498a"),n("d9e2"),n("7482")),u=n("2f62"),d=n("2708"),f={mixins:[d["c"]],data:function(){return{modal:!1,tweet:"",tweetHint:!1,isProcessing:!1}},computed:Object(r["a"])({},Object(u["b"])(["currentUser"])),watch:{tweet:function(t){t.length>=140?this.tweetHint=!0:this.tweetHint=!1}},methods:{submitTweet:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t.tweet&&t.tweet.trim().length){e.next=5;break}return t.tweetHint="empty",t.$bus.$emit("toast",{icon:"error",title:"內容不可空白"}),e.abrupt("return");case 5:if(!(t.tweet.length>=140)){e.next=9;break}return t.tweetHint=!0,t.$bus.$emit("toast",{icon:"error",title:"字數不可超過 140 字"}),e.abrupt("return");case 9:return t.isProcessing=!0,e.next=12,l["a"].submitTweet({description:t.tweet});case 12:if(n=e.sent,s=n.data,console.log(s),"success"!==s.status){e.next=19;break}t.$bus.$emit("toast",{icon:"success",title:"推文發送成功"}),e.next=20;break;case 19:throw new Error(s.message);case 20:t.modal=!1,t.isProcessing=!1,t.tweet="",e.next=30;break;case 25:e.prev=25,e.t0=e["catch"](0),console.log(e.t0),t.isProcessing=!1,t.$bus.$emit("toast",{icon:"error",title:"".concat(e.t0)});case 30:case"end":return e.stop()}}),e,null,[[0,25]])})))()}},created:function(){var t=this;this.$bus.$on("tweetModal",(function(e){t.modal=e}))}},p=f,m=(n("6fdb"),n("2877")),b=Object(m["a"])(p,i,o,!1,null,"03b9ade8",null),h=b.exports,v={components:{TweetModal:h},computed:Object(r["a"])(Object(r["a"])({},Object(u["b"])(["currentUser"])),{},{isSelf:function(){return this.currentUser.id===Number(this.$route.params.id)},chatRoomTab:function(){return"chatroom"===this.$route.name}}),methods:{logout:function(){this.$store.commit("revokeAuthentication"),this.$router.push({name:"user-login"})}}},g=v,C=(n("d32d"),Object(m["a"])(g,s,a,!1,null,"62ca96ee",null));e["a"]=C.exports},"604d":function(t,e,n){"use strict";var s=n("c968");e["a"]={addFollow:function(t){return s["a"].post("/followships",{id:t})},deleteFollow:function(t){return s["a"].delete("/followships/".concat(t))}}},"69f36":function(t,e,n){t.exports=n.p+"img/long-hair.1ef8ba5e.png"},"6fdb":function(t,e,n){"use strict";n("ba95")},7482:function(t,e,n){"use strict";n("a4d3"),n("e01a");var s=n("c968");e["a"]={submitTweet:function(t){var e=t.description;return s["a"].post("/tweets",{description:e})},fetchTweet:function(t){var e=t.tweetId;return s["a"].get("/tweets/".concat(e))}}},7696:function(t,e,n){"use strict";n("b0c0");var s=n("c968");e["a"]={signUp:function(t){var e=t.account,n=t.name,a=t.email,r=t.password;return s["a"].post("/users",{account:e,name:n,email:a,password:r})},signIn:function(t){var e=t.account,n=t.password;return s["a"].post("/signin",{account:e,password:n})}}},"7a32":function(t,e,n){"use strict";n("9c3c")},"7cd3":function(t,e,n){t.exports=n.p+"img/woman.e4efc8ad.png"},"80ae":function(t,e,n){t.exports=n.p+"img/boy.dce1e413.png"},8510:function(t,e,n){t.exports=n.p+"img/sea-edge.7235e7cc.png"},"8cee":function(t,e,n){},"8f3c":function(t,e,n){t.exports=n.p+"img/hipster.8caa67c0.png"},9197:function(t,e,n){t.exports=n.p+"img/tropical-salad.5fbeae08.png"},"94db":function(t,e,n){"use strict";n("15bd")},"9c0c":function(t,e,n){},"9c3c":function(t,e,n){},a2a0:function(t,e,n){t.exports=n.p+"img/ember-spark.84fe67b1.png"},a2c8:function(t,e,n){"use strict";n("1bf8")},aa96:function(t,e,n){t.exports=n.p+"img/cool-background.3a88abc1.png"},b39d:function(t,e,n){},ba95:function(t,e,n){},bb8a:function(t,e,n){},be6c:function(t,e,n){"use strict";var s=n("c968");e["a"]={adminSignIn:function(t){var e=t.account,n=t.password;return s["a"].post("/admin/signin",{account:e,password:n})},adminGetTweets:function(){return s["a"].get("/admin/tweets")},adminDeleteTweet:function(t){return s["a"].delete("/admin/tweets/".concat(t))},adminGetUsers:function(){return s["a"].get("/admin/users")}}},bed1:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:"skeleton",mode:"out-in"}},[t.custom?t._e():[t.isLoading&&"span"===t.skeleton?n("span",{staticClass:"skeleton",domProps:{innerHTML:t._s(t.skeletonSpace)}}):t._e(),t.isLoading&&"div"===t.skeleton?n("div",{staticClass:"skeleton",domProps:{innerHTML:t._s(t.skeletonSpace)}}):t._e()],t.custom?[t.isLoading&&"span"===t.skeleton?n("span",{staticClass:"skeleton-mask"},[t._t("skeletonContent")],2):t._e(),t.isLoading&&"div"===t.skeleton?n("div",{staticClass:"skeleton-mask"},[t._t("skeletonContent")],2):t._e()]:t._e(),t.isLoading?t._e():t._t("originalNode")],2)},a=[],r=(n("a9e3"),{props:{isLoading:{type:Boolean,required:!0,default:!0},skeleton:{type:String,default:"span"},custom:{type:Boolean,default:!1},skeletonLength:{type:Number,required:!1,default:0},skeletonLine:{type:Number,required:!1,default:0}},computed:{skeletonSpace:function(){for(var t="",e=0;e<this.skeletonLength;e++)t+="&emsp;";for(var n=0;n<this.skeletonLine;n++){for(var s=0;s<this.skeletonLength;s++)t+="&emsp;";t+="<br/>"}return t}}}),i=r,o=(n("7a32"),n("2877")),c=Object(o["a"])(i,s,a,!1,null,"02f3c696",null);e["a"]=c.exports},bf2e:function(t,e,n){"use strict";n("d3c0")},c968:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));n("d3b7");var s=n("bc3a"),a=n.n(s),r="https://dzbr-alphatwitter.herokuapp.com/api",i=a.a.create({baseURL:r});i.interceptors.request.use((function(t){var e=localStorage.getItem("token");return e&&(t.headers["Authorization"]="Bearer ".concat(e)),t}),(function(t){return Promise.reject(t)}));var o=i},ceb8:function(t,e,n){t.exports=n.p+"img/artist.e8339d86.png"},d32d:function(t,e,n){"use strict";n("e17b")},d3c0:function(t,e,n){},dc01:function(t,e,n){t.exports=n.p+"img/clear-lagoon.f5b6fb5a.png"},dc59:function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column-container"},[t._m(0),n("div",{staticClass:"column-list"},[t.isLoading?t._l(10,(function(e){return n("div",{key:e,staticClass:"list-item d-flex justify-content-between align-items-center"},[n("div",{staticClass:"user-info"},[n("SkeletonScreen",{staticClass:"user-avatar",attrs:{isLoading:t.isLoading,skeleton:"div",skeletonLength:0}}),n("span",[n("SkeletonScreen",{staticClass:"user-name",attrs:{isLoading:t.isLoading,skeleton:"div",skeletonLength:10}}),n("SkeletonScreen",{staticClass:"user-accountName",attrs:{isLoading:t.isLoading,skeleton:"div",skeletonLength:10}},[t._v(" > ")])],1)],1),n("button",{staticClass:"follow",attrs:{disabled:""}},[t._v("載入..")])])})):t._e(),n("transition",{attrs:{name:"fade"}},[t.isLoading?t._e():n("transition-group",{staticClass:"items-container",attrs:{name:"sort",tag:"div"}},t._l(t.users,(function(e){return n("div",{key:e.id,staticClass:"list-item d-flex justify-content-between align-items-center"},[n("div",{staticClass:"user-info"},[n("div",{staticClass:"user-avatar"},[n("router-link",{attrs:{to:{path:"/users/"+e.id}}},[n("img",{staticClass:"avatar-img",attrs:{src:e.avatar}})])],1),n("router-link",{attrs:{to:{path:"/users/"+e.id}}},[n("div",{staticClass:"user-name"},[t._v(t._s(e.name))]),n("div",{staticClass:"user-accountName"},[t._v("@"+t._s(e.account))])])],1),e.isSelf?t._e():n("button",{staticClass:"follow",class:{active:e.isFollowed},attrs:{disabled:t.isLoading||e.isProcessing},on:{click:function(n){return t.toggleFollow(e)}}},[t._v(" "+t._s(e.isProcessing?"跟隨中..":e.isFollowed?"正在跟隨":"跟隨")+" ")])])})),0)],1)],2)])},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"column-header"},[n("span",{staticClass:"column-title"},[t._v(" Popular ")])])}],r=n("1da1"),i=n("5530"),o=(n("96cf"),n("d81d"),n("1602")),c=n("604d"),l=n("2f62"),u=n("bed1"),d={components:{SkeletonScreen:u["a"]},data:function(){return{isLoading:!0,users:[]}},computed:Object(i["a"])({},Object(l["b"])(["currentUser"])),created:function(){this.fetchUser()},mounted:function(){var t=this;this.$bus.$on("toggleFollow",(function(){t.fetchUser()}))},methods:{fetchUser:function(){var t=this;return Object(r["a"])(regeneratorRuntime.mark((function e(){var n,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o["a"].getUsersTop();case 3:n=e.sent,s=n.data,t.users=s,t.users=t.users.map((function(e){return e.id===t.currentUser.id?Object(i["a"])(Object(i["a"])({},e),{},{isSelf:!0}):Object(i["a"])(Object(i["a"])({},e),{},{isProcessing:!1})})),t.isLoading=!1,e.next=14;break;case 10:e.prev=10,e.t0=e["catch"](0),t.isLoading=!1,console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})))()},toggleFollow:function(t){var e=this;return Object(r["a"])(regeneratorRuntime.mark((function n(){var s,a,r,i;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(t.isProcessing=!0,n.prev=1,t.isFollowed){n.next=10;break}return n.next=5,c["a"].addFollow(t.id);case 5:s=n.sent,a=s.data,"success"===a.status&&(t.isFollowed=!0,t.isProcessing=!1,e.$bus.$emit("toast",{icon:"success",title:"追隨成功"}),e.fetchUser()),n.next=15;break;case 10:return n.next=12,c["a"].deleteFollow(t.id);case 12:r=n.sent,i=r.data,"success"===i.status&&(t.isFollowed=!1,t.isProcessing=!1,e.$bus.$emit("toast",{icon:"success",title:"取消追隨成功"}),e.fetchUser());case 15:e.$bus.$emit("toggleFollow",{id:t.id,isFollowed:t.isFollowed}),n.next=23;break;case 18:n.prev=18,n.t0=n["catch"](1),console.log(n.t0),e.isProcessing=!1,e.$bus.$emit("toast",{icon:"error",title:"".concat(n.t0)});case 23:case"end":return n.stop()}}),n,null,[[1,18]])})))()}}},f=d,p=(n("ff70"),n("2877")),m=Object(p["a"])(f,s,a,!1,null,"616c3414",null);e["a"]=m.exports},dd6e:function(t,e,n){t.exports=n.p+"img/man-avatar.2c8649fd.png"},de39:function(t,e,n){t.exports=n.p+"img/bald.1c220f19.png"},e17b:function(t,e,n){},e654:function(t,e,n){t.exports=n.p+"img/liked-icon.b9abe96b.svg"},e70a:function(t,e,n){"use strict";n("b39d")},edd5:function(t,e,n){t.exports=n.p+"img/ranger-made.3a1c5239.png"},fc55:function(t,e,n){t.exports=n.p+"img/like-icon.2c643b85.svg"},ff70:function(t,e,n){"use strict";n("3f1e")}});
//# sourceMappingURL=app.b73e67a9.js.map